<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="Css/servidor.css">
    <link rel="stylesheet" href="Css/estilos/projeto.css">

</head>
<body>
<div id="sidebar-container"></div>
<div id="header-container"></div>

<div id="conteudo">
   
   <main>
    <h1>Meus Projetos</h1>
    <div class="projetos">

        <div class="card">
            <h3>Calculadora IMC</h3>
            <p>Descubra seu índice de massa corporal.</p>
            <a href="#">Ver projeto</a>
        </div>

        <div class="card">
            <h3>Taxa Metabólica Basal</h3>
            <p>Calcule quantas calorias seu corpo gasta.</p>
            <a href="#">Ver projeto</a>
        </div>
        
    </div>
</main>

</div>


<div id="footer-container"></div>



<script>
window.addEventListener("DOMContentLoaded",() =>{
   fetch("Componentes/header.html")
        .then(res => res.text())
        .then(headerconteudo => {
            document.getElementById("header-container").innerHTML = headerconteudo;

                        
            const botoesCor = document.querySelectorAll(".cores");

            botoesCor.forEach(botao => {
                botao.addEventListener("click", () => {
                    // Pega a cor de fundo do botão clicado
                    let cor = botao.dataset.cor || getComputedStyle(botao).backgroundColor;
                    let corescura = botao.dataset.corescura;;

                    // Aplica como cor principal
                    document.documentElement.style.setProperty("--CorPrincipal", cor);
                    document.documentElement.style.setProperty("--CorPrincipalEscuro", botao.dataset.corescura || corescura);

                    // Salva no localStorage
                    localStorage.setItem("corPrincipal", cor);
                    localStorage.setItem("corPrincipalEscuro", corescura);
                });

            });
        })

    fetch("Componentes/sidebar.html")
    .then(res => res.text())
    .then(sidebarconteudo => {
        document.getElementById("sidebar-container").innerHTML = sidebarconteudo;

        const overlay = document.getElementById("overlay"),
        btnFechar = document.getElementById("fecharBtn"),
        btnAbrir = document.getElementById("menuBtn"),
        sidebar = document.getElementById("sidebar");

        const abrirSidebar = function(){
            overlay.classList.add("active");
            sidebar.classList.add("open");
        }

        const fecharSidebar = function(){
            overlay.classList.remove("active");
            sidebar.classList.remove("open")
        }

        btnAbrir.addEventListener("click", abrirSidebar);
        btnFechar.addEventListener("click", fecharSidebar);
        overlay.addEventListener("click", fecharSidebar)
        })

    fetch("Componentes/footer.html")
        .then(res => res.text())
        .then(footerconteudo => {
            document.getElementById("footer-container").innerHTML = footerconteudo;
        })
    
})
window.addEventListener("DOMContentLoaded", () => {
    const corSalva = localStorage.getItem("corPrincipal");
    const corEscuraSalva = localStorage.getItem("corPrincipalEscuro");
    
    if (corSalva) {
        document.documentElement.style.setProperty("--CorPrincipal", corSalva);
    }
    
    if (corEscuraSalva) {
        document.documentElement.style.setProperty("--CorPrincipalEscuro", corEscuraSalva);
    }
});
</script>
</body>
</html>